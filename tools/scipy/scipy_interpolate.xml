<tool id="scipy_interpolate" name="scipy interpolate" version="@TOOL_VERSION@+galaxy@VERSION_SUFFIX@" profile="20.01" license="MIT">
    <description>interpolate data using the scipy.interpolate library</description>
    <!-- <xrefs>
        <xref type="bio.tools"></xref>
    </xrefs> -->
    <macros>
        <token name="@TOOL_VERSION@">1.14.1</token>
        <token name="@VERSION_SUFFIX@">0</token>
    </macros>
    <!-- TODO: please annotate this tool with topics and operations from http://edamontology.org -->
    <!-- TODO: for more information see: https://galaxy-iuc-standards.readthedocs.io/en/latest/best_practices/tool_xml.html#edam-topics-and-operations -->
    <!-- <edam_topics>
        <edam_topic>topic_TODO</edam_topic>
    </edam_topics>
    <edam_operations>
        <edam_operation>operation_TODO</edam_operation>
    </edam_operations> -->
    <requirements>
        <requirement type="package" version="@TOOL_VERSION@">scipy</requirement>
        <requirement type="package" version="2.2.3">pandas</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        python ${python_script}
        ]]></command>
    <configfiles>
        <configfile name="python_script">
import pandas as pd
from scipy.interpolate import CubicSpline, PchipInterpolator, Akima1DInterpolator
import numpy as np

reference = pd.read_csv('$reference_dataset', sep='\t')
query = pd.read_csv('$query_dataset', sep='\t')

model = ${method}(reference['RI'], reference['RT'])
query['RT'] = model(query['retention_index']).astype(float)
query.to_csv('$output_dataset', sep='\t', index=False)
        </configfile>
    </configfiles>

    <inputs>
        <param argument="--reference_dataset" type="data" format="tabular" label="Reference data" help="Reference dataset to use fopr the interpolation" />
        <param argument="--query_dataset" type="data" format="tabular" label="Query dataset" help="Query dataset for which to interpolate the values." />
        <param name="method" type="select" label="Interpolation Method" help="Interpolation uethod to use">
            <option value="CubicSpline" selected="true">Cubic Spline</option>
            <option value="PchipInterpolator">Pchip Interpolator</option>
            <option value="Akima1DInterpolator">Akima1D Interpolator</option>
        </param>
    </inputs>
    <outputs>
        <data name="output_dataset" format="tabular" label="${tool.name} on ${on_string}" />
    </outputs>
    <tests>
        <!-- Hint: You can use [ctrl+alt+t] after defining the inputs/outputs to auto-scaffold some basic test cases. -->
    </tests>
    <help><![CDATA[

.. class:: infomark

**What it does**

TODO: Fill in help in reStructuredText format (https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html)

Usage
.....


**Input**


**Output**


    ]]></help>
    <citations>
        <citation type="doi"> </citation>
    </citations>
</tool>