<macros>
    <token name="@TOOL_VERSION@">1.0.0</token>
    <xml name="creator">
        <creator>
            <person
                givenName="Kristina"
                familyName="Gomoryova"
                url="https://github.com/KristinaGomoryova"
                identifier="0000-0003-4407-3917" />
            <person
                givenName="Helge"
                familyName="Hecht"
                url="https://github.com/hechth"
                identifier="0000-0001-6744-996X" />
            <organization
                url="https://www.recetox.muni.cz/"
                email="GalaxyToolsDevelopmentandDeployment@space.muni.cz"
                name="RECETOX MUNI" />
        </creator>
    </xml>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="3.5.1">r-ggplot2</requirement>
            <requirement type="package" version="1.3.1">r-tidyr</requirement>
            <requirement type="package" version="19.0.0">r-arrow</requirement>
        </requirements>
    </xml>

    <xml name="boxplot_param">
       <param name="input_data" type="data" format="tabular" label="Input table" help= "Input file in a tabular format"/>
        <param name="has_rownames" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Does the first column of input table contain rownames?" help="Whether the first column of the input data table identifies the rownames."/>
       <param name="log2_transform" type="boolean" checked="false" truevalue="TRUE" falsevalue="FALSE" label="Use log2 transformation on the quantitative variable?" help="Whether to use log2 transformation on quantitative data - it can help to achieve the normal distribution."/>
       <conditional name="grouping_boxplot">
                <param type="select" name="use_grouping" label="Plot boxplot based on column from the metadata table?" help="Whether to base the boxplot on a different variable than column names from the input table.">
                    <option value="no" selected="true">no</option> 
                    <option value="yes">yes</option>
                </param>     
                <when value="yes">
                    <param name="input_metadata" type="data" format="tabular" label="Input metadata table" help= "Input metadata file in a tabular format"/>
                    <param name="sampleID" type="data_column" data_ref="input_metadata" use_header_names="true" label="Sample identification column in metadata table" help="Column containing sample names - it should correspond to the colNames in the data table."/>
                    <param name="groupingCol" type="data_column" data_ref="input_metadata" use_header_names="true" label="Plotting column" help="Which column from the metadata table should be plotted on x axis?"/>
                    <param name="facet_x" type="data_column" data_ref="input_metadata" use_header_names="true" label="Column to use as facet on x-axis" optional="true" help="If using faceting, which column should be plotted on x-axis? Default 'Nothing selected' means no faceting will be done on x-axis."/>
                    <param name="facet_y" type="data_column" data_ref="input_metadata" use_header_names="true" label="Column to use as facet on y-axis" optional="true" help="If using faceting, which column should be plotted on y-axis? Default 'Nothing selected' means no faceting will be done on y-axis."/>
                </when>
                <when value="no"/>
        </conditional>  
    </xml>

    <xml name="citations">
        <citations>
            <citation type="doi">10.1002/cpz1.658</citation>
        </citations>        
    </xml>

</macros>
